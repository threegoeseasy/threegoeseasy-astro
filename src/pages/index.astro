---
import Layout from "../layouts/Layout.astro";

const src = ["https://aframe.io/releases/1.2.0/aframe.min.js"];
---

<Layout args={{ script: src, footer: "sticky" }}>
  <main class="flex flex-col-reverse lg:flex-col overflow-hidden">

      <div class="lg:h-[33vh] lg:w-2/3 self-center overflow-hidden">
        <h1
          id="quote"
          class="text-3xl lg:text-4xl xl:text-5xl text-justify text-balance antialiased "
        >
        </h1>
      </div>

      <a
        class="mb-16 flex items-center justify-center flex-1 w-full"
        id="mail"
        href="mailto:threegoeseasy@gmail.com"
      >
        <img
          src="/dvd.png"
          height={328}
          alt="email"
          class="antialiased drop-shadow-xl"
        /></a
      >

  </main>

  <script>
    import { transitionTexts } from "../utils/styles";

    const quotes = [
        "Если совершенство — это бриллиант, то его грани — это технологии, пересечения которых высекают решения на черном стекле.",
        "Wenn Exzellenz ein Diamant ist, dann sind seine Facetten Technologien, deren Überschneidungen Lösungen ins schwarze Glas ritzen.",
        "If excellence is a diamond, its facets are technologies, whose intersections carve solutions into black glass.",
        "如果说卓越是一颗钻石，那么它的切面就是技术，这些技术的交叉点在黑色玻璃上雕刻出解决方案。",
        "Om excellens är en diamant, så är dess fasetter teknikerna, vars skärningspunkter ristar in lösningar i svart glas.",
        "إذا كان التميّز ألماسة، فإن جوانبه هي التقنيات، التي تُنتج تقاطعاتها حلولًا تنحت في الزجاج الأسود.",
        "Als uitmuntendheid een diamant is, zijn de facetten ervan de technieken, waarvan de snijpunten oplossingen snijden in zwart glas.",
        "Se a excelência é um diamante, as suas facetas são as técnicas, cujas intersecções esculpem soluções no vidro negro."
    ];

    const h1quote = document.getElementById("quote");
    const quoteAmount = quotes.length;
    let i = 0;

    // const mail = document.getElementById("mail");
    // const quoteHeight = h1quote.offsetHeight;
    // mail.style.height = quoteHeight;
    h1quote.innerText = quotes[0];

    function updateQuote() {
      const nextIndex = (i + 1) % quoteAmount; // Compute the next index
      transitionTexts(quotes[i], quotes[nextIndex], 27, (output) => {
        h1quote.innerText = output;
      });

      i = nextIndex; // Update `i` after transition

      const randomInterval = Math.random() * 4000 + 7000;
      setTimeout(updateQuote, randomInterval);
    }

    updateQuote();
  </script>

  <style>
    main {
      margin: auto;
      padding: 1.5rem;
      width: 100% !important;
    }

    #mail {


    }

    #mail img {
        aspect-ratio: 594 / 328;
        height: 200px;
      cursor: url(/mail.png), pointer;
    }

    a {
      transition: text-shadow 0.5s ease;
    }
    a:hover {
    }
  </style>
</Layout>